<!DOCTYPE html>
<html>
<head>
  <title>Valentine ğŸ’˜</title>
  <style>
    body {
      background-color: #ffb6c1;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
      position: relative;
      margin: 0;
    }

    .box {
      background: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      position: relative;
      width: 320px;
      height: 260px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.2s;
    }

    #yes {
      background: hotpink;
      color: white;
    }

    #no {
      background: gray;
      color: white;
    }

    #hint {
      margin-top: 15px;
      color: red;
      font-weight: bold;
      display: none;
    }

    #creator {
      position: fixed;
      bottom: 10px;
      right: 15px;
      font-size: 16px;
      color: #fff;
      font-weight: bold;
      text-shadow: 1px 1px 2px #000;
      pointer-events: none;
    }

    #stopHint {
      position: fixed;
      top: 20px;
      text-align: center;
      width: 100%;
      font-size: 18px;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      display: none;
      z-index: 10;
    }
  </style>
</head>

<body>
  <div class="box" id="box">
    <h2>Will you be my Valentine? ğŸ’–</h2>
    <br>
    <button id="yes" onclick="yesClick()">Yes ğŸ˜</button>
    <button id="no" onclick="shrinkNo()" ontouchstart="shrinkNo()">No ğŸ˜</button>
    <p id="hint">ğŸ˜‚ Abeg just press YES ğŸ™ğŸ¥º</p>
  </div>

  <!-- ğŸµ MUSIC -->
  <audio id="song" preload="auto">
    <source src="allthestars.mp3" type="audio/mpeg">
  </audio>

  <!-- Stop music message -->
  <div id="stopHint">ğŸ‘‰ Click anywhere to stop the music</div>

  <!-- Creator tag -->
  <div id="creator">Created by Possible</div>

  <script>
    const herName = "Dorcas â¤ï¸";
    let noCount = 0;        // count NO clicks
    const maxNoClicks = 2;  // only 2 clicks allowed
    let canStopMusic = false;

    function shrinkNo() {
      noCount++;
      const noBtn = document.getElementById("no");
      const yesBtn = document.getElementById("yes");
      const hint = document.getElementById("hint");

      hint.style.display = "block";

      // Shrink NO each click
      let noScale = Math.max(1 - noCount * 0.4, 0);
      noBtn.style.transform = `scale(${noScale})`;

      // Grow YES each click
      let yesScale = 1 + noCount * 0.2;
      yesBtn.style.transform = `scale(${yesScale})`;

      // After 2 clicks, hide NO completely
      if (noCount >= maxNoClicks) {
        noBtn.style.display = "none";
      }
    }

    function yesClick() {
      document.getElementById("box").innerHTML =
        `<h2>ğŸ¥° ${herName}<br>You are my Valentine ğŸ’–</h2>
         <p>More than the brightest stars âœ¨</p>`;

      const song = document.getElementById("song");
      song.play().catch(() => {
        alert("Your browser blocked autoplay. Click anywhere to start the song!");
      });

      // After 30 seconds, allow stopping music
      setTimeout(() => {
        canStopMusic = true;
        document.getElementById("stopHint").style.display = "block";
      }, 30000);
    }

    // Click anywhere to stop music
    document.body.addEventListener("click", () => {
      if (canStopMusic) {
        const song = document.getElementById("song");
        song.pause();
        song.currentTime = 0;
        document.getElementById("stopHint").style.display = "none";
        canStopMusic = false;
      }
    });
  </script>
</body>
</html>
